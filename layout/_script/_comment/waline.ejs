<% if (typeof(script) !== 'undefined' && script) { %>
  <script src="//cdn.jsdelivr.net/npm/@waline/client"></script>
  <script type="text/javascript">
  var GUEST = ['nick', 'mail', 'link'];
  var meta = '<%= theme.comment.waline.meta %>';
  meta = meta.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  Waline({
      el: '#waline',
      serverURL: '<%= theme.comment.waline.serverURL %>',
      placeholder: '<%= theme.comment.waline.placeholder %>',
      avatar: '<%= theme.comment.waline.avatar %>',
      meta: meta,
      pageSize: '<%= theme.comment.waline.pageSize %>' || 10,
      lang: '<%= theme.comment.waline.lang %>',
  });
  </script>
<% } %>
